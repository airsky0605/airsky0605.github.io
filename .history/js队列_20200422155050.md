今天正好看到有一个朋友在问一个js队列的问题就想到了之前的一种处理方式.

理想情况下的js函数执行都是都是有序调用。如下。

```
function fn1(){ 
  console.log('output 1')
}
function fn2(){ 
  console.log('output 2')
}
function fn3(){ 
  console.log('output 3')
}
const stack = [fn1,fn2,fn3]
stack.forEach(item => { 
  item()
})
// 输出 output 1 output 2 output 3
```

但是正常的业务 肯定是不会给你这么舒服的调用方式。中间我们肯定会夹杂有一些api请求异步操作，这种时候可能就是这种效果

```
function fn1(){ 
  console.log('output 1')
}
function fn2 () { 
  setTimeout(() => {
    console.log('output 2')
  }, 1000);
}
function fn3(){ 
  console.log('output 3')
}
const stack = [fn1,fn2,fn3]
stack.forEach(item => { 
  item()
})
// 输出 output 1 output 3 output 2(延迟出来)

```

